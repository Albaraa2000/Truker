<!DOCTYPE html>
<html>
  <head>
    <title>Socket.IO Example</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <ul id="messages"></ul>
    <form id="message-form">
      <input id="message-input" autocomplete="off" />
      <button>Send</button>
    </form>
    <script>
      const socket = io();
      const form = $("#message-form");
      const input = $("#message-input");
      const messages = $("#messages");

      //1-send message to server
      form.submit(() => {
        // event send message from client to server
        socket.emit("client message", input.val());
        //clear message input value
        input.val("");
        return false;
      });
      //3-receive message FROM server
      socket.on("server message", (msg) => {
        messages.append($("<li>").text(msg));
      });
    </script>
  </body>
</html>
